<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tapper</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <style>
    * { margin:0; padding:0; box-sizing:border-box; }
    body {
      font-family:'Roboto',sans-serif;
      background: radial-gradient(circle, #0f0f0f, #1a1a1a);
      color: #fff;
      display:flex;
      flex-direction:column;
      align-items:center;
      min-height:100vh;
      overflow-x:hidden;
      scroll-behavior:smooth;
      position:relative;
    }
    canvas#particles {
      position: fixed;
      top:0; left:0;
      width:100%; height:100%;
      z-index:-1;
    }
    header { text-align:center; padding:3rem 2rem 2rem; animation:fadeInDown 1s ease; }
    header h1 {
      font-size:3.5rem; font-weight:700; margin-bottom:0.5rem;
      background: linear-gradient(270deg, #ff00ff, #00f0ff, #ffea00);
      background-size:600% 600%;
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent;
      animation: gradientShift 5s ease infinite;
      text-shadow: 0 0 20px #ff00ff,0 0 30px #00f0ff;
    }
    header p { font-size:1.2rem; opacity:0.85; text-shadow:0 0 10px #00f0ff; }
    nav { margin:1rem 0; }
    nav a { margin:0 1rem; text-decoration:none; font-weight:bold; color:#ff00ff; text-shadow:0 0 5px #ff00ff; transition: all 0.3s; }
    nav a:hover { color:#00f0ff; text-shadow:0 0 15px #00f0ff,0 0 25px #ff00ff; }
    section {
      max-width:800px; width:90%; margin:2rem auto; padding:2rem; border-radius:1rem;
      background: rgba(255,255,255,0.05); backdrop-filter: blur(10px);
      box-shadow:0 4px 30px rgba(0,0,0,0.7);
      animation: fadeInUp 1s ease; transition: all 0.3s;
    }
    section:hover { transform: translateY(-5px); box-shadow:0 10px 50px rgba(0,0,0,0.8),0 0 20px #ff00ff,0 0 30px #00f0ff; }
    h2 { margin-bottom:1rem; font-size:2rem; background: linear-gradient(270deg, #ff00ff, #00f0ff, #ffea00); background-size:600% 600%; -webkit-background-clip:text; -webkit-text-fill-color:transparent; animation: gradientShift 5s ease infinite; }
    button { padding:0.8rem 1.5rem; font-size:1rem; border:none; border-radius:0.5rem;
      background: linear-gradient(270deg, #ff00ff, #00f0ff, #ffea00);
      background-size:600% 600%; color:#000; font-weight:bold; cursor:pointer;
      box-shadow:0 0 15px #ff00ff,0 0 25px #00f0ff; transition: all 0.3s; animation: gradientShift 5s ease infinite;
    }
    button:hover { transform: scale(1.1); box-shadow:0 0 25px #ff00ff,0 0 35px #00f0ff,0 0 45px #ffea00; }
    .score { margin-top:1rem; font-size:1.2rem; font-weight:bold; text-shadow:0 0 15px #00f0ff; }
    .timer, .combo, .miss { margin-top:0.5rem; font-size:1rem; text-shadow:0 0 10px #ff00ff; }
    footer { margin:3rem 0 1rem; font-size:0.9rem; opacity:0.7; text-align:center; }

    @keyframes fadeInDown { from{opacity:0;transform:translateY(-20px);}to{opacity:1;transform:translateY(0);} }
    @keyframes fadeInUp { from{opacity:0;transform:translateY(20px);}to{opacity:1;transform:translateY(0);} }
    @keyframes gradientShift {0%{background-position:0% 50%;}50%{background-position:100% 50%;}100%{background-position:0% 50%;}}
  </style>
</head>
<body>
  <canvas id="particles"></canvas>
  <header>
    <h1>Tapper</h1>
    <p>The game designed to be played in class — now on the Play Store!</p>
    <nav>
      <a href="#how">How it Works</a>
      <a href="#training">Training</a>
      <a href="#privacy">Privacy</a>
    </nav>
  </header>

  <section id="how">
    <h2>How it Works</h2>
    <p>Your phone vibrates. If it vibrates twice, tap and get a point. If it vibrates once, don’t tap — or you’ll lose it all.</p>
    <p>Download Tapper now on the <strong>Play Store</strong> and start playing.</p>
  </section>

  <section id="training">
    <h2>Training Mode</h2>
    <p>Practice your reflexes here before class.</p>
    <button id="startTraining">Start Training</button>
    <div class="score" id="score">Score: 0</div>
    <div class="timer" id="timer">Reaction Time: 0ms</div>
    <div class="combo" id="combo">Combo: 0</div>
    <div class="miss" id="miss">Misses: 0</div>
  </section>

  <section id="privacy">
    <h2>Privacy</h2>
    <p>Read our <a href="privacy.html" target="_blank">privacy policy</a>.</p>
  </section>

  <footer>
    <p>&copy; 2025 Tapper. All rights reserved.</p>
  </footer>

  <script>
    const startBtn = document.getElementById('startTraining');
    const scoreDisplay = document.getElementById('score');
    const timerDisplay = document.getElementById('timer');
    const comboDisplay = document.getElementById('combo');
    const missDisplay = document.getElementById('miss');

    let score = 0;
    let expectingTap = false;
    let doubleVibe = false;
    let combo = 0;
    let misses = 0;
    let roundStart = 0;

    function vibrateOnce(){ if(navigator.vibrate) navigator.vibrate(200); doubleVibe=false; expectingTap=true; roundStart=Date.now(); setTimeout(()=>{ if(expectingTap){ expectingTap=false; misses++; combo=0; updateDisplays(); } },1500); }
    function vibrateTwice(){ if(navigator.vibrate) navigator.vibrate([200,100,200]); doubleVibe=true; expectingTap=true; roundStart=Date.now(); setTimeout(()=>{ if(expectingTap){ expectingTap=false; misses++; combo=0; updateDisplays(); } },1500); }
    function randomVibration(){ Math.random()>0.5?vibrateOnce():vibrateTwice(); }

    function updateDisplays(){ scoreDisplay.textContent=`Score: ${score}`; comboDisplay.textContent=`Combo: ${combo}`; missDisplay.textContent=`Misses: ${misses}`; }

    startBtn.addEventListener('click', ()=>{
      score=0; combo=0; misses=0; updateDisplays();
      const interval=setInterval(()=>{ if(!expectingTap) randomVibration(); },3000);
      document.addEventListener('click', ()=>{
        if(expectingTap){
          const reaction = Date.now()-roundStart;
          timerDisplay.textContent=`Reaction Time: ${reaction}ms`;
          if(doubleVibe){ score++; combo++; } else { score=0; misses++; combo=0; }
          expectingTap=false; updateDisplays();
        }
      });
    });

    // Particle Background
    const canvas=document.getElementById('particles');
    const ctx=canvas.getContext('2d');
    canvas.width=window.innerWidth; canvas.height=window.innerHeight;
    const particles=[];
    for(let i=0;i<100;i++){ particles.push({x:Math.random()*canvas.width,y:Math.random()*canvas.height,r:Math.random()*2+1,dx:(Math.random()-0.5)*1.5,dy:(Math.random()-0.5)*1.5}); }
    function drawParticles(){ ctx.clearRect(0,0,canvas.width,canvas.height); particles.forEach(p=>{ ctx.beginPath(); ctx.arc(p.x,p.y,p.r,0,Math.PI*2); ctx.fillStyle='rgba(255,0,255,0.5)'; ctx.fill(); p.x+=p.dx; p.y+=p.dy; if(p.x<0||p.x>canvas.width)p.dx*=-1; if(p.y<0||p.y>canvas.height)p.dy*=-1; }); requestAnimationFrame(drawParticles); }
    drawParticles();
    window.addEventListener('resize',()=>{ canvas.width=window.innerWidth; canvas.height=window.innerHeight; });
  </script>
</body>
</html>
